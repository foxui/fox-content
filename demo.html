<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        
        <title>fox-listview</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <!-- 1. Load platform support before any code that touches the DOM. -->
        <link rel="stylesheet" href="fox-listview.css">
        <style>
            *{
                margin: 0;
                padding: 0;
            }
        </style>

        <script src="../fox-core/dist/foxui.js?v=123"></script>
        <!-- 2. Load the component using an HTML Import -->
        <link rel="import" href="fox-listview.html">
        <style>
			fox-listview {
				position: absolute;
				left: 0;
				top: 0;
				right: 0;
				bottom: 0;
				background: #fff;
			}
			
			li{
			    padding: 15px;
			    
			}

        </style>
    </head>
    <body >
        <fox-listview>
            <ul>
                <li rv-each-date="datas">
                    {date}
                </li>
            </ul>
        </fox-listview>
        <script>
        
        var listview;
        
        function refresh(){
            var datas = [];
            for(var i = 0;i<30;i++){
                datas.push(+new Date);
            }
            listview.datas = datas;
        }
        
        window.addEventListener('HTMLImportsLoaded', function(e) {
            listview = $("fox-listview").get(0);
            refresh();
            
            listview.onRefresh(function(){
                
                
                setTimeout(function(){
                    refresh();
                    listview.refreshComplete();    
                },2000);
            });
            
        });
            
        </script>
    </body>
</html>